<?xml version="1.0" encoding="UTF-8"?>
<plugin:page xmlns="http://piston.koyad.in/html5" xmlns:plugin="http://piston.koyad.in/plugin"
	xmlns:c="http://piston.koyad.in/core" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://piston.koyad.in/html5 http://piston.koyad.in/html5 
						http://piston.koyad.in/plugin http://piston.koyad.in/plugin 
						http://piston.koyad.in/core http://piston.koyad.in/core">
	<plugin:head>
		<link rel="stylesheet" href="css/app.css" />
		<link rel="stylesheet" href="css/highlight-8.7.min.css" />
		<script type="text/javascript" src="js/highlight-8.7.min.js"></script>
		<script type="text/javascript" src="js/marked-0.3.5.min.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
	</plugin:head>
	<plugin:body>
		<c:if test="${not empty msg}">
			<p class="msg-container">
				<span class="fa fa-info-circle fa-lg" style="margin-left: 5px; margin-right: 5px; color: white;"></span>
				<c:out value="${msg.details}"/>
			</p>
		</c:if>
	
	    <div style="padding: 15px;">
	    	<plugin:hasPermission res="PAGE" permission="EDIT">
				<div style="text-align: right; margin-bottom: 10px;">
					<pButton class="btn pseudo-edit-btn" faClass="fa fa-pencil fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;"> 
						<c:out value="Edit" />
		  			</pButton>
		  		</div>
	  		</plugin:hasPermission>

			<div class="pseudo-db-content" style="display: none;"><c:out value="${content}" /></div>
			<div class="pseudo-rendered-content" style="font-size: 14px; font-family: Arial;"></div>

			<form name="content" method="POST" action="updateContent">
		        <div class="pseudo-new-content" style="display:none;">
		        	<textarea property="content" style="min-height: 200px; max-height: 400px; width: 100%; font-size: 14px; font-family: Arial;" />
		        	
		        	<div style="text-align: right; margin-top: 20px;">
				        <pButton class="btn pseudo-submit-button" faClass="fa fa-save fa-lg" faStyle="font-size: 1.2em; padding-right: 6px;"> 
							<c:out value="Update" />
			  			</pButton>
			  			<pButton class="btn pseudo-cancel-btn" faClass="fa fa-close fa-lg" faStyle="font-size: 1.2em;  padding-right: 6px;"> 
							<c:out value="Cancel" />
			  			</pButton>
		  			</div>
		        </div>
	        </form>
	    </div>
	    
	    <script type="text/javascript">
	    	<![CDATA[
	    		${app_js_namespace}.tiles.push('${piston_tile_id}');
				invoke('${app_js_namespace}.renderMarkdown', window, '${piston_tile_id}');
        	]]>
      	</script>
	</plugin:body>
</plugin:page>
